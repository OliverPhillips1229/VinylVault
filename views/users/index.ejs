<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="stylesheet" href="/stylesheets/partials.css">
    <title>Community - VinylVault</title>
</head>

<body>
    <%- include('../partials/_navbar.ejs') %>
    
    <main>
        <img src="/logos/VinylVaultLogoWText.png" alt="VinylVault Logo" class="img-logo-medium"/>
        <h1>Community</h1>
        <p>Connect with fellow vinyl collectors and see what's in their collections!</p>

        <% if (users && users.length > 0) { %>
            <div class="community-grid">
                <% users.forEach(member => { %>
                    <div class="member-card">
                        <div class="member-info">
                            <h3>@<%= member.username %></h3>
                            <div class="member-stats">
                                <div class="stat-item">
                                    <span class="stat-number"><%= member.totalVinyls %></span>
                                    <span class="stat-label">Vinyls Collected</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number"><%= member.wishlistCount %></span>
                                    <span class="stat-label">Wishlist Items</span>
                                </div>
                            </div>
                            <div class="favorite-genre">
                                <span class="genre-label">Favorite Genre:</span>
                                <span class="genre-value"><%= member.favoriteGenre %></span>
                            </div>
                            <div class="member-since">
                                <span>Member since <%= new Date(member.memberSince).toLocaleDateString('en-US', { 
                                    year: 'numeric', 
                                    month: 'long', 
                                    day: 'numeric' 
                                }) %></span>
                            </div>
                        </div>
                    </div>
                <% }) %>
            </div>
        <% } else { %>
            <div class="empty-community">
                <h2>No Members Yet</h2>
                <p>Be the first to join the VinylVault community!</p>
                <a href="/auth/sign-up">Sign Up Now</a>
            </div>
        <% } %>
    </main>
</body>

</html>