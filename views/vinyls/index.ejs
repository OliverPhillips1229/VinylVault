<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <title>Explore your Vault</title>
</head>

<body>
    <%- include('../partials/_navbar') %>

        <main>
            <h1>Explore your Vault</h1>
            <p>View your entire collection.</p>
            <% if (vinyls.length > 0) { %>
            <ul class="vinyl-list">
                <% vinyls.forEach(vinyl => { %>
                    <% if (!vinyl.wishlist) { %> <!-- Only show collection items -->
                        <li>
                            <strong><%= vinyl.albumTitle %></strong> by <%= vinyl.artist %>
                            <% if (vinyl.year) { %> (<%= vinyl.year %>) <% } %>
                            <% if (vinyl.genre) { %> - <em><%= vinyl.genre %></em> <% } %>
                            <% if (vinyl.notes) { %>
                                <p><small>Notes: <%= vinyl.notes %></small></p>
                            <% } %>
                            <% if (vinyl.wishlist) { %>
                                <p><strong>Wishlist Item</strong></p>
                            <% } %>
                            <% if (vinyl.coverArt) { %>
                                <div>
                                    <img src="<%= vinyl.coverArt %>" alt="Cover art for <%= vinyl.albumTitle %>" style="max-width: 150px; margin-top: 5px;">
                                </div>
                            <% } %>

                            <div style="margin-top: 10px;">
                                <a href="/vinyls/<%= vinyl._id %>/edit">Edit</a>

                                <form action="/vinyls/<%= vinyl._id %>?_method=DELETE" method="POST" style="display:inline;">
                                    <button type="submit">Delete</button>
                                </form>
                            </div>
                        </li>
                    <% } %>
                <% }) %>
            </ul>
        <% } else { %>
            <p>You haven't added any vinyls to your collection yet.</p>
        <% } %>
        </main>
</body>

</html>